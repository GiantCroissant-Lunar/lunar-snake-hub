# Pre-commit hooks for lunar-snake-hub consumers
# This config contains only universal checks that work in any repository

repos:
  # === Basic File Checks ===
- repo: https://github.com/pre-commit/pre-commit-hooks
  rev: v5.0.0
  hooks:
  - id: trailing-whitespace
    name: Remove trailing whitespace
    args: [--markdown-linebreak-ext=md]
  - id: end-of-file-fixer
    name: Ensure files end with newline
  - id: check-yaml
    name: Validate YAML syntax
  - id: check-json
    name: Validate JSON syntax
  - id: check-toml
    name: Validate TOML syntax
  - id: check-added-large-files
    name: Prevent large files (>500KB)
    args: [--maxkb=500]
  - id: check-merge-conflict
    name: Detect merge conflict markers
  - id: detect-private-key
    name: Prevent committing private keys
  - id: check-case-conflict
    name: Check for case-sensitive filename conflicts
  - id: mixed-line-ending
    name: Check for mixed line endings
    args: [--fix=lf]

  # === Markdown Linting ===
- repo: https://github.com/igorshubovych/markdownlint-cli
  rev: v0.45.0
  hooks:
  - id: markdownlint
    name: Lint Markdown files
    args: [--fix]
    exclude: ^(node_modules/|\.hub-cache/)

  # === Python (if project uses Python) ===
- repo: https://github.com/astral-sh/ruff-pre-commit
  rev: v0.9.3
  hooks:
  - id: ruff
    name: Lint Python with Ruff
    args: [--fix, --exit-non-zero-on-fix]
  - id: ruff-format
    name: Format Python with Ruff

# === Configuration ===
default_language_version:
  python: python3

# Exclude patterns (global)
exclude: |
  (?x)^(
    \.git/.*|
    node_modules/.*|
    \.venv/.*|
    venv/.*|
    .*\.min\.(js|css)$
  )$
